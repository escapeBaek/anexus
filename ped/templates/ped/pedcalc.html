{% extends 'base.html' %}
{% block page_content %}

<div class="container-fluid py-4">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="display-4 text-gradient">Pediatric Anesthesia Calculator</h1>
            <p class="lead text-muted">Calculate precise dosages and measurements for pediatric anesthesia care</p>
        </div>
    </div>

    <!-- Input Form -->
    <form action="" method="GET" id="calcForm">
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-calendar-alt text-primary me-2"></i>
                            <label for="age" class="form-label mb-0">Age (years)</label>
                        </div>
                        <input type="number" name="age" id="age" class="form-control" value="{{ age }}" step="0.1">
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-ruler-vertical text-primary me-2"></i>
                            <label for="height" class="form-label mb-0">Height (cm)</label>
                        </div>
                        <input type="number" name="height" id="height" class="form-control" value="{{ height }}">
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-weight text-primary me-2"></i>
                            <label for="weight" class="form-label mb-0">Weight (kg)</label>
                        </div>
                        <input type="number" name="weight" id="weight" class="form-control" value="{{ weight }}" step="0.1">
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary btn-lg px-5">
                    <i class="fas fa-calculator me-2"></i>Calculate
                </button>
            </div>
        </div>
    </form>

    <!-- Results Section -->
    <div class="row g-4">
        <!-- Airway Management Card -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-lungs text-primary me-2"></i>
                        <h5 class="card-title mb-0">Airway Management</h5>
                    </div>
                    <p class="card-text mb-2">ETT ID: <span class="text-primary">{{ ett_id }} mm</span></p>
                    <p class="card-text mb-2">ETT Depth: <span class="text-primary">{{ ett_depth }} cm</span></p>
                    <p class="card-text">C Line: <span class="text-primary">{{ c_line }} cm</span></p>
                </div>
            </div>
        </div>

        <!-- Emergency Medications -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-heartbeat text-primary me-2"></i>
                        <h5 class="card-title mb-0">Emergency Medications</h5>
                    </div>
                    <p class="card-text mb-2">Atropine: <span class="text-primary">{{ atropine }} mg ({{ atropine_ml }} ml)</span></p>
                    <p class="card-text">Lidocaine: <span class="text-primary">{{ lidocaine }} mg ({{ lidocaine_ml }} ml)</span></p>
                </div>
            </div>
        </div>

        <!-- Anesthetic Agents -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-syringe text-primary me-2"></i>
                        <h5 class="card-title mb-0">Anesthetic Agents</h5>
                    </div>
                    <p class="card-text mb-2">Propofol: <span class="text-primary">{{ propofol }} mg ({{ propofol_ml }} ml)</span></p>
                    <p class="card-text mb-2">TPT: <span class="text-primary">{{ tpt }} mg ({{ tpt_ml }} ml)</span></p>
                    <p class="card-text">ROC: <span class="text-primary">{{ roc }} mg ({{ roc_ml }} ml)</span></p>
                </div>
            </div>
        </div>

        <!-- Pain Management -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-band-aid text-primary me-2"></i>
                        <h5 class="card-title mb-0">Pain Management</h5>
                    </div>
                    <p class="card-text mb-2">Fentanyl: <span class="text-primary">{{ ftn }} mcg ({{ ftn_ml }} ml)</span></p>
                    <p class="card-text">Denogan: <span class="text-primary">{{ dng }} mg ({{ dng_ml }} ml)</span></p>
                </div>
            </div>
        </div>

        <!-- Other Medications -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-pills text-primary me-2"></i>
                        <h5 class="card-title mb-0">Other Medications</h5>
                    </div>
                    <p class="card-text">Ondansetron: <span class="text-primary">{{ ond }} mg ({{ ond_ml }} ml)</span></p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.text-gradient {
    background: linear-gradient(135deg, #2b5876, #4e4376);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.card {
    transition: transform 0.2s, box-shadow 0.2s;
    border: none;
    border-radius: 0.5rem;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15) !important;
}

.form-control {
    border-radius: 0.5rem;
    padding: 0.75rem;
    border: 1px solid rgba(0,0,0,0.1);
}

.form-control:focus {
    box-shadow: 0 0 0 0.2rem rgba(43,88,118,0.25);
    border-color: #2b5876;
}

.btn-primary {
    background: linear-gradient(135deg, #2b5876, #4e4376);
    border: none;
    border-radius: 0.5rem;
    padding: 0.75rem 1.5rem;
    transition: transform 0.2s, box-shadow 0.2s;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
    background: linear-gradient(135deg, #2b5876, #4e4376);
}

.text-primary {
    color: #2b5876 !important;
}
</style>

{% endblock %}